<!doctype html>
<html>
<head>
    <meta charset="UTF-8">
    <!-- FAVICON SHIT -->
    <link rel="apple-touch-icon" sizes="180x180" href="/static/favicon.ico/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/static/favicon.ico/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/static/favicon.ico/favicon-16x16.png">
    <link rel="manifest" href="/static/favicon.ico/manifest.json">
    <link rel="mask-icon" href="/static/favicon.ico/safari-pinned-tab.svg" color="#5bbad5">
    <link rel="shortcut icon" href="/static/favicon.ico/favicon.ico">
    <meta name="msapplication-config" content="/static/favicon.ico/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">
    <!-- END FAVICON SHIT -->
    <title>SP Habits</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/bootstrap.min.css') }}" />
    <link rel="stylesheet" href="{{ url_for('static', filename='css/toastr.min.css') }}" />
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/habits.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/settings.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/attach_acc.css') }}">
    <script src="{{ url_for('static', filename='js/jquery-3.2.1.min.js') }}"></script>
    <script src="{{ url_for('static', filename='js/bootstrap.min.js') }}"></script>
    <meta name="google-signin-scope" content="profile email">
    <meta name="google-signin-client_id" content="385569473349-1192ich7o73apbpmu48c4lc32soqgqjk.apps.googleusercontent.com">
</head>

<body>
    <!-- CREATE/ATTACH ACCOUNT -->
    {% if not email %}
    <div id="attach-acc-container" class="attach-acc-container hidden">
        <div id="attach-acc-content" class="attach-acc-content">
            <div id="close-attach-acc" onclick="closeAttachAcc();">
                <img height=40 width=40 src="{{ url_for('static', filename='img/x-white.png') }}"/>
            </div>
            <div class="attach-acc-header">
                <div class="inline" style="margin-right: 40px;">
                    <h6 id="signup-link" class="selected" onclick="selectTab(event, 'signup')">sign up</h6>
                </div>
                <div class="inline">
                    <h6 id="login-link" onclick="selectTab(event, 'login')">login</h6>
                </div>
            </div>
            <div class="attach-acc-main">
                <div class="default-auth">
                    <div id="signup">
                        <div class="attach-acc-description">
                            <p style="color: #fff;">
                                All your guest data will be moved to your new account.
                                If you want to create a separate account,
                                <a href="javascript:logout();">click here</a>
                            </p>
                        </div>
                        <form name="signup-form" action="/api/signup" onsubmit="return validateSignUp()" method="post">
                            <input class="auth" type="text" name="email" placeholder="email">
                            <br>
                            <input class="auth" type="password" name="password" placeholder="password">
                            <br>
                            <input class="auth" type="password" name="password-re" placeholder="password again">
                            <br>
                            <input class="auth" type="submit" value="sign up">
                            <br>
                            <div id="password-error" class="auth-error hidden">Passwords do not match.</div>
                            <div id="email-error" class="auth-error hidden">Email is invalid.</div>
                            <div id="empty-error" class="auth-error hidden">A required field is empty.</div>
                        </form>
                    </div>
                    <div id="login" class="hidden">
                        <div class="attach-acc-description">
                            <p style="color: #fff;">
                                All your guest data will be merged with your account.
                                If you want to log into a separate account,
                                <a href="javascript:logout();">click here</a>
                            </p>
                        </div>
                        <form name="login-form" onsubmit="login(); return false;">
                            <input class="auth" type="text" name="email" placeholder="email">
                            <br>
                            <input class="auth" id="login-password" type="password" name="password" placeholder="password">
                            <br>
                            <input class="auth" id="login-submit" type="submit" value="login">
                            <br>
                            <div id="login-error" class="auth-error hidden">Incorrect password.</div>
                        </form>
                    </div>
                </div>
                <div class="or center-parent">
                    <div class="center-child">
                        <p>or</p>
                    </div>
                </div>
                <div class="google-auth center-parent">
                    <div class="center-child">
                        <div id="google-widget"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    {% endif %}

    <!-- MAIN -->
    <div id="body-container">
        <div id="card0">
            <div id="header">
                <div class="logo">
                    <h1 class="logo1 inline">see</h1>
                    <h1 class="logo2 inline">progress</h1>
                </div>
                <div id="nav">
                    <div class="nav-part">
                        <h5>logged in as:
                            {% if email %}
                            {{ email }}
                            {% else %}
                            guest
                            {% endif %}
                        </h5>
                    </div>
                    <div class="nav-divider"></div>
                    <div class="nav-part">
                        <a href="javascript:logout();"><h5>log out<h5></a>
                    </div>
                    {% if not email %}
                    <div class="nav-divider"></div>
                    <div class="nav-part">
                        <a href="javascript:openAttachAcc();"><h5>create/attach an account<h5></a>
                    </div>
                    {% endif %}
                </div>
            </div>
        </div>

        <div class="card1">
            <h2 class="card-title">Dailies</h2>
        </div>

        <div class="card2">
            <h2 class="card-title">To Do</h2>
        </div>
    </div>

    <div id="settings-dialog" tabindex="-1">
    </div>

    <script src="{{ url_for('static', filename='js/logout.js') }}"></script>
    <script src="{{ url_for('static', filename='js/attach_acc.js') }}"></script>
    <script src="{{ url_for('static', filename='js/habits.js') }}"></script>
    <script src="https://apis.google.com/js/platform.js?onload=onOAuthLoad" async defer></script>
</body>

</html>
